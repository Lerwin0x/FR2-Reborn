# Feature Map

| System            | FR2-Reborn Modules                                                       | OriginalSourceCode Reference                                                                                             | DecompiledLua Reference                                                  | Notes                                                                                    |
| ----------------- | ------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------- |
| Boot sequence     | `main.lua`, `scenes/boot.lua`                                            | `assets/config/config.json`                                                                                              | `3.lua`                                                                  | Seeds deterministic RNG, preloads asset manifest, transitions to menu.                   |
| Main menu         | `scenes/menu.lua`, `ui/widgets.lua`, `engine/asset.lua`                  | `assets/images/gui/common/bgMain.png`, `assets/images/gui/common/logo.png`, `assets/images/gui/mainMenu/buttonPlayX.png` | `images.gui.clan_v2.emblem.*`                                            | Menu background/logo/button art mapped to original textures with rewritten button logic. |
| Race loop         | `scenes/race.lua`, `game/match.lua`, `game/runner.lua`, `game/track.lua` | `assets/config/map/0.json`, `assets/images/map/forest/background/*`                                                      | `lua.game.effects.fireworksHandler.lua`, `lua.game.powerups.puBlade.lua` | Local-only race loop with parallax layers, authentic map parsing, and camera follow.     |
| HUD & controls    | `ui/hud.lua`, `scenes/race.lua`, `engine/input.lua`                      | `assets/images/game/countdown*.png`, `assets/images/game/buttonJump.png`, `assets/images/game/buttonPowerup.png`         | `images.gui.postgame.adCoins.adCoins.lua`, `lua.game.menu`               | Countdown sprites, timer, and jump/power buttons wired to keyboard + touch controls.     |
| Power-up data     | `game/powerups.lua`, `game/items.lua`                                    | `assets/config/storeConfig.json`, `assets/data/`                                                                         | `lua.game.powerups.*`                                                    | Local speed boost implemented; traps/projectiles deferred to future milestones.          |
| Audio abstraction | `engine/audio.lua`                                                       | `assets/sound/sfx_button_press.wav`, `assets/sound/sfx_jump.wav`, `assets/sound/sfx_speed_activate.wav`                  | `lua.ads.audioModule.lua`                                                | Core SFX (menu, countdown, jump, power) routed through shared audio helpers.             |
| Networking stub   | `engine/net_stub.lua`                                                    | `assets/config/awards.json`                                                                                              | `lua.ads.rewardedVideoPoolInfo.lua`                                      | Deterministic mock hooks for eventual multiplayer.                                       |
